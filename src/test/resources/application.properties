# 테스트 환경 설정
app.data-initializer.enabled=false

# TestContainers가 동적으로 설정 (TestContainersConfig 참조)
# spring.datasource.url, username, password, driver-class-name은 TestContainersConfig에서 설정

# JPA - 테스트 시 스키마 자동 생성
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.defer-datasource-initialization=false
spring.jpa.show-sql=true


# 로깅 레벨
logging.level.org.hibernate.SQL=DEBUG

# Redis/Cache Configuration - TestContainers로 Redis 캐시 활성화
spring.cache.type=redis

# Coupon Issue Strategy (redis or redisson-lock)
coupon.issue.strategy=redis

# Coupon Pending Configuration
coupon.pending.timeout-ms=30000
coupon.pending.cleanup-timeout-ms=60000
coupon.pending.cleanup-interval-ms=60000

# Coupon Rollback Recovery Configuration
coupon.rollback-recovery.max-retry-count=3
coupon.rollback-recovery.batch-size=100
coupon.rollback-recovery.fixed-delay-ms=300000
coupon.rollback-recovery.cleanup-cron=0 0 3 * * *
coupon.rollback-recovery.cleanup-retention-days=30

# Event Publisher Type - 테스트 시 Spring ApplicationEvent 사용
event.publisher.type=spring

# Kafka - 테스트 시 비활성화 (TestContainers 사용 시 별도 설정)
spring.kafka.bootstrap-servers=localhost:9092
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration
